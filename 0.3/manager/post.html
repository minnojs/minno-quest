<html>
	<head>
		<meta charset="UTF-8" />
		<title>Minno.js</title>
		<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
		<link href="../assets/prism.css" rel="stylesheet" />
		<link href="../assets/style.css" rel="stylesheet" />
	</head>
	<body>
		<header>
			<section>
				<nav class="brand">
                    <a href="/"><h1>Minno</h1></a>
				</nav>
				<nav>
					<a href="/minno-quest/0.3/basics/overview.html">Basics</a>
					<a href="/minno-quest/0.3/manager/overview.html">miManager</a>
					<a href="/minno-quest/0.3/quest/overview.html">miQuest</a>
					<a href="/minno-time/0.5/time/overview.html">miTime</a>
				</nav>
				<nav>
                    <div id="search-box">
                        <script>
                            (function() {
                                var cx = '002953266509769041597:smg5beek-iu';
                                var gcse = document.createElement('script');
                                gcse.type = 'text/javascript';
                                gcse.async = true;
                                gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                                var s = document.getElementsByTagName('script')[0];
                                s.parentNode.insertBefore(gcse, s);
                            })();
                        </script>
                        <gcse:searchbox-only></gcse:searchbox-only>
                    </div>
                    <select id="version-select"><option value="0.0" >v0.0</option>,<option value="0.1" >v0.1</option>,<option value="0.2" >v0.2</option>,<option value="0.3" selected>v0.3</option></select>
					<a href="https://github.com/minnojs">Github</a>
				</nav>
			</section>
		</header>
		<main>
			<section class="docs">
                <h1><a name="post" class="header-link" href="#post"><span></span></a>Post</h1><ul>
<li>Core<ul>
<li><a href="overview.html">Overview</a></li>
<li><a href="API.html">API</a></li>
<li><a href="playground.html">Playground</a></li>
</ul>
</li>
<li>Tasks<ul>
<li><a href="allowleaving.html">Allow Leaving</a></li>
<li><a href="injectStyle.html">Inject Style</a></li>
<li><a href="isTouch.html">Is Touch</a></li>
<li><a href="messages.html">Messages</a></li>
<li><strong><a href="post.html">Post</a></strong><ul>
<li><a href="#save-from-the-global-object">Save from the Global object</a></li>
<li><a href="#send-data-directly">Send data directly</a></li>
<li><a href="#api">API</a></li>
</ul>
</li>
<li><a href="postCsv.html">Post CSV</a></li>
<li><a href="redirect.html">Redirect</a></li>
<li><a href="setValue.html">Set Value</a></li>
<li><a href="yesno.html">Yes/No</a></li>
</ul>
</li>
<li>Examples<ul>
<li><a href="weightManager.html">Weight experiment</a></li>
<li><a href="videoManager.html">Displaying Video</a></li>
</ul>
</li>
</ul>
<p>The post task posts plain data to the server. 
You can use it to either send data that has been saved in the Global object or directly set the data that you want to send.
This is a good way to keep track of conditions within your tasks.</p>
<h3><a name="save-from-the-global-object" class="header-link" href="#save-from-the-global-object"><span></span></a>Save from the Global object</h3><p>In your code, you can save data to the <a href="../basics/variables.html#global">Global object</a>. For instance, you might randomly select a condition and save the condition to the Global object.</p>
<p>For example, the following code randomly assigns participants to the experimental or the control group:</p>
<pre><code class="lang-javascript">API.addGlobal({ condition: API.shuffle([&#39;experimental&#39;,&#39;control&#39;])[0] });
</code></pre>
<p>In your code, you can then use that condition to provide your participants different tasks or show them different stimuli. However, adding a variable to global does not mean that it would be logged to the server. In order to log that variable to the server, you need to add a &#39;post&#39; task to the sequence of tasks that you define in the manager file. For example:</p>
<pre><code class="lang-javascript">{
    type:&#39;post&#39;,
    name:&#39;cond&#39;
    variableName: &#39;condition&#39;
}
</code></pre>
<p>This code saves the variable &#39;condition&#39; and its content to the server, under the task name &#39;cond&#39;.</p>
<p>In each task, you can use the <a href="../basics/variables.html#the-task-object-current"><code>current</code> object</a> to save variables. 
You can access the current variable from the global, using the task&#39;s name. For instance, if your study has a task named <code>iat</code>, and in that task you saved a variable called <code>randomization</code> you will have a variable that can be accessed with <code>global.iat.randomization</code>. You will use that to send the <code>randomization</code> variable to the server:</p>
<pre><code class="lang-javascript">{
    type:&#39;post&#39;,
    name:&#39;primaryRandomization&#39;
    variableName: &#39;iat.randomization&#39;
}
</code></pre>
<p>You can also send several variables together. 
The following task sends <code>global.iat.randomization</code> and <code>global.iat.feedback</code> to the server:</p>
<pre><code class="lang-javascript">{
    type:&#39;post&#39;,
    name:&#39;primaryRandomization&#39;
    variableName: [
        &#39;iat.randomization&#39;,
        &#39;iat.feedback&#39;
    ]
}
</code></pre>
<h3><a name="send-data-directly" class="header-link" href="#send-data-directly"><span></span></a>Send data directly</h3><p>You can also define an object to be sent:</p>
<pre><code class="lang-javascript">{
    type:&#39;post&#39;,
    name:&#39;condition&#39;
    data: {
        condition: &#39;experimental&#39;
    }
}
</code></pre>
<p>One example for the usefulness of this feature is when the randomization in your task is done using a mixer (e.g., a <a href="../basics/mixer.html#choose">choose mixer</a>). Consider this code:</p>
<pre><code class="lang-javascript">{
    mixer:&#39;choose&#39;,
    data:[
        {
            mixer:&#39;wrapper&#39;,
            data: 
            [
                {inherit:&#39;manipulation&#39;},
                {
                    type:&#39;post&#39;,
                    name:&#39;condition&#39;
                    data: {
                        condition: &#39;experimental&#39;
                    }
                }
            ]
        },
        {
            mixer:&#39;wrapper&#39;,
            data: 
            [
                {inherit:&#39;control&#39;},
                {
                    type:&#39;post&#39;,
                    name:&#39;condition&#39;
                    data: {
                        condition: &#39;control&#39;
                    }
                }
            ]
        }
    ]
}
</code></pre>
<p>Note that you can use <a href="../basics/templates.html">templates</a> as strings within the data object.
This way you can pull information from different parts of <code>global</code> to the same place.</p>
<p><code>data</code> can also be a function. In that case, it will recieve the arguments <code>global</code> and<code>task</code>:</p>
<pre><code>{
    type:&#39;post&#39;,
    name:&#39;secondaryRandomization&#39;
    stage: 2,
    data: function(global, task){
        return {
            score: global.currentScore,
            stage: task.stage
        }
    }
}
</code></pre><h3><a name="api" class="header-link" href="#api"><span></span></a>API</h3><p>The API is as follows:</p>
<table>
<thead>
<tr>
<th>property</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>settings</td>
<td>Optional settings that overide the logger settings <a href="./API.html#logger">as defined</a> in the manager.</td>
</tr>
<tr>
<td>variableName</td>
<td>A path within the global to the object that you want to send. For example: <code>&quot;iat.feedback&quot;</code> will post the object <code>feedback</code> from <code>global.iat</code>. You can also use an array of paths that will be combined into a single post.</td>
</tr>
<tr>
<td>path</td>
<td>Deprecated verson of <code>variableName</code></td>
</tr>
<tr>
<td>data</td>
<td>A raw object to be posted to the server. You may use templates in order to construct it.</td>
</tr>
</tbody>
</table>

				<hr />
				<small>License: Apache 2. &copy; Project Implicit. &middot; Current version [version]</small>
			</section>
		</main>
		<script src="../assets/prism.js"></script>
        <script>
            (function(){
                var select = document.getElementById('version-select');
                select.addEventListener('change', function(event){
                    var version = event.target.value;
                    location.href = location.href.replace(/[0-9]\.[0-9]/, version)
                });
            })();
        </script>
	</body>
</html>
