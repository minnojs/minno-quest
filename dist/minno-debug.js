!function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function t(e,t){return function(){e[t]=!e[t]}}function n(e){return e=JSON.stringify(e,null,2),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),o.trust(e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="color:darkorange";return/^"/.test(e)?t=/:$/.test(e)?"color:red":"color:green":/true|false/.test(e)?t="color:blue":/null/.test(e)&&(t="color:magenta"),'<span style="'+t+'">'+e+"</span>"}))}var r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=e(function(e){!function(){function t(e,t,n,r,o,i){return{tag:e,key:t,attrs:n,children:r,text:o,dom:i,domSize:void 0,state:void 0,_state:void 0,events:void 0,instance:void 0,skip:!1}}function n(e){for(var t in e)if(c.call(e,t))return!1;return!0}function o(e){for(var t,n="div",r=[],o={};t=u.exec(e);){var i=t[1],a=t[2];if(""===i&&""!==a)n=a;else if("#"===i)o.id=a;else if("."===i)r.push(a);else if("["===t[3][0]){var l=t[6];l&&(l=l.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===t[4]?r.push(l):o[t[4]]=""===l?l:l||!0}}return r.length>0&&(o.className=r.join(" ")),s[e]={tag:n,attrs:o}}function i(e,r,o){var i,a,l=!1,u=r.className||r.class;if(!n(e.attrs)&&!n(r)){var s={};for(var f in r)c.call(r,f)&&(s[f]=r[f]);r=s}for(var f in e.attrs)c.call(e.attrs,f)&&(r[f]=e.attrs[f]);void 0!==u&&(void 0!==r.class&&(r.class=void 0,r.className=u),null!=e.attrs.className&&(r.className=e.attrs.className+" "+u));for(var f in r)if(c.call(r,f)&&"key"!==f){l=!0;break}return Array.isArray(o)&&1===o.length&&null!=o[0]&&"#"===o[0].tag?a=o[0].children:i=o,t(e.tag,r.key,l?r:void 0,i,a)}function a(e){var n,r=arguments[1],a=2;if(null==e||"string"!=typeof e&&"function"!=typeof e&&"function"!=typeof e.view)throw Error("The selector must be either a string or a component.");if("string"==typeof e)var l=s[e]||o(e);if(null==r?r={}:("object"!=typeof r||null!=r.tag||Array.isArray(r))&&(r={},a=1),arguments.length===a+1)n=arguments[a],Array.isArray(n)||(n=[n]);else for(n=[];a<arguments.length;)n.push(arguments[a++]);var u=t.normalizeChildren(n);return"string"==typeof e?i(l,r,u):t(e,r.key,r,u)}function l(e){var t=0,n=null,r="function"==typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var o=Date.now();0===t||o-t>=16?(t=o,e()):null===n&&(n=r(function(){n=null,e(),t=Date.now()},16-(o-t)))}}t.normalize=function(e){return Array.isArray(e)?t("[",void 0,void 0,t.normalizeChildren(e),void 0,void 0):null!=e&&"object"!=typeof e?t("#",void 0,void 0,!1===e?"":e,void 0,void 0):e},t.normalizeChildren=function(e){for(var n=0;n<e.length;n++)e[n]=t.normalize(e[n]);return e};var u=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,s={},c={}.hasOwnProperty;a.trust=function(e){return null==e&&(e=""),t("<",void 0,void 0,e,void 0,void 0)},a.fragment=function(e,n){return t("[",e.key,e,t.normalizeChildren(n),void 0,void 0)};var f=a;if((d=function(e){function t(e,t){return function a(c){var f;try{if(!t||null==c||"object"!=typeof c&&"function"!=typeof c||"function"!=typeof(f=c.then))s(function(){t||0!==e.length||console.error("Possible unhandled promise rejection:",c);for(var n=0;n<e.length;n++)e[n](c);o.length=0,i.length=0,u.state=t,u.retry=function(){a(c)}});else{if(c===r)throw new TypeError("Promise can't be resolved w/ itself");n(f.bind(c))}}catch(e){l(e)}}}function n(e){function t(e){return function(t){n++>0||e(t)}}var n=0,r=t(l);try{e(t(a),r)}catch(e){r(e)}}if(!(this instanceof d))throw new Error("Promise must be called with `new`");if("function"!=typeof e)throw new TypeError("executor must be a function");var r=this,o=[],i=[],a=t(o,!0),l=t(i,!1),u=r._instance={resolvers:o,rejectors:i},s="function"==typeof setImmediate?setImmediate:setTimeout;n(e)}).prototype.then=function(e,t){function n(e,t,n,a){t.push(function(t){if("function"!=typeof e)n(t);else try{r(e(t))}catch(e){o&&o(e)}}),"function"==typeof i.retry&&a===i.state&&i.retry()}var r,o,i=this._instance,a=new d(function(e,t){r=e,o=t});return n(e,i.resolvers,r,!0),n(t,i.rejectors,o,!1),a},d.prototype.catch=function(e){return this.then(null,e)},d.resolve=function(e){return e instanceof d?e:new d(function(t){t(e)})},d.reject=function(e){return new d(function(t,n){n(e)})},d.all=function(e){return new d(function(t,n){var r=e.length,o=0,i=[];if(0===e.length)t([]);else for(var a=0;a<e.length;a++)!function(a){function l(e){o++,i[a]=e,o===r&&t(i)}null==e[a]||"object"!=typeof e[a]&&"function"!=typeof e[a]||"function"!=typeof e[a].then?l(e[a]):e[a].then(l,n)}(a)})},d.race=function(e){return new d(function(t,n){for(var r=0;r<e.length;r++)e[r].then(t,n)})},"undefined"!=typeof window){void 0===window.Promise&&(window.Promise=d);d=window.Promise}else if(void 0!==r){void 0===r.Promise&&(r.Promise=d);var d=r.Promise}var v=function(e){function t(e,r){if(Array.isArray(r))for(o=0;o<r.length;o++)t(e+"["+o+"]",r[o]);else if("[object Object]"===Object.prototype.toString.call(r))for(var o in r)t(e+"["+o+"]",r[o]);else n.push(encodeURIComponent(e)+(null!=r&&""!==r?"="+encodeURIComponent(r):""))}if("[object Object]"!==Object.prototype.toString.call(e))return"";var n=[];for(var r in e)t(r,e[r]);return n.join("&")},p=new RegExp("^file://","i"),h=function(e,t){function n(){function e(){0==--t&&"function"==typeof s&&s()}var t=0;return function n(r){var o=r.then;return r.then=function(){t++;var i=o.apply(r,arguments);return i.then(e,function(n){if(e(),0===t)throw n}),n(i)},r}}function r(e,t){if("string"==typeof e){var n=e;null==(e=t||{}).url&&(e.url=n)}return e}function o(e,t){if(null==t)return e;for(var n=e.match(/:[^\/]+/gi)||[],r=0;r<n.length;r++){var o=n[r].slice(1);null!=t[o]&&(e=e.replace(n[r],t[o]))}return e}function i(e,t){var n=v(t);return""!==n&&(e+=(e.indexOf("?")<0?"?":"&")+n),e}function a(e){try{return""!==e?JSON.parse(e):null}catch(t){throw new Error(e)}}function l(e){return e.responseText}function u(e,t){if("function"==typeof e){if(!Array.isArray(t))return new e(t);for(var n=0;n<t.length;n++)t[n]=new e(t[n])}return t}var s,c=0;return{request:function(s,c){var f=n();s=r(s,c);var d=new t(function(t,n){null==s.method&&(s.method="GET"),s.method=s.method.toUpperCase();var r="GET"!==s.method&&"TRACE"!==s.method&&("boolean"!=typeof s.useBody||s.useBody);"function"!=typeof s.serialize&&(s.serialize="undefined"!=typeof FormData&&s.data instanceof FormData?function(e){return e}:JSON.stringify),"function"!=typeof s.deserialize&&(s.deserialize=a),"function"!=typeof s.extract&&(s.extract=l),s.url=o(s.url,s.data),r?s.data=s.serialize(s.data):s.url=i(s.url,s.data);var c=new e.XMLHttpRequest,f=!1,d=c.abort;c.abort=function(){f=!0,d.call(c)},c.open(s.method,s.url,"boolean"!=typeof s.async||s.async,"string"==typeof s.user?s.user:void 0,"string"==typeof s.password?s.password:void 0),s.serialize!==JSON.stringify||!r||s.headers&&s.headers.hasOwnProperty("Content-Type")||c.setRequestHeader("Content-Type","application/json; charset=utf-8"),s.deserialize!==a||s.headers&&s.headers.hasOwnProperty("Accept")||c.setRequestHeader("Accept","application/json, text/*"),s.withCredentials&&(c.withCredentials=s.withCredentials);for(var v in s.headers)({}).hasOwnProperty.call(s.headers,v)&&c.setRequestHeader(v,s.headers[v]);"function"==typeof s.config&&(c=s.config(c,s)||c),c.onreadystatechange=function(){if(!f&&4===c.readyState)try{var e=s.extract!==l?s.extract(c,s):s.deserialize(s.extract(c,s));if(c.status>=200&&c.status<300||304===c.status||p.test(s.url))t(u(s.type,e));else{var r=new Error(c.responseText);for(var o in e)r[o]=e[o];n(r)}}catch(e){n(e)}},r&&null!=s.data?c.send(s.data):c.send()});return!0===s.background?d:f(d)},jsonp:function(a,l){var s=n();a=r(a,l);var f=new t(function(t,n){var r=a.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+c++,l=e.document.createElement("script");e[r]=function(n){l.parentNode.removeChild(l),t(u(a.type,n)),delete e[r]},l.onerror=function(){l.parentNode.removeChild(l),n(new Error("JSONP request failed")),delete e[r]},null==a.data&&(a.data={}),a.url=o(a.url,a.data),a.data[a.callbackKey||"callback"]=r,l.src=i(a.url,a.data),e.document.documentElement.appendChild(l)});return!0===a.background?f:s(f)},setCompletionCallback:function(e){s=e}}}(window,d),m=function(e){function n(e){return e.attrs&&e.attrs.xmlns||B[e.tag]}function r(e,t,n,r,i,a,l){for(var u=n;u<r;u++){var s=t[u];null!=s&&o(e,s,i,l,a)}}function o(e,t,n,r,o){var s=t.tag;if("string"!=typeof s)return c(e,t,n,r,o);switch(t.state={},null!=t.attrs&&D(t.attrs,t,n),s){case"#":return i(e,t,o);case"<":return a(e,t,o);case"[":return l(e,t,n,r,o);default:return u(e,t,n,r,o)}}function i(e,t,n){return t.dom=J.createTextNode(t.children),_(e,t.dom,n),t.dom}function a(e,t,n){var r={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(t.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div",o=J.createElement(r);o.innerHTML=t.children,t.dom=o.firstChild,t.domSize=o.childNodes.length;for(var i,a=J.createDocumentFragment();i=o.firstChild;)a.appendChild(i);return _(e,a,n),a}function l(e,t,n,o,i){var a=J.createDocumentFragment();if(null!=t.children){var l=t.children;r(a,l,0,l.length,n,null,o)}return t.dom=a.firstChild,t.domSize=a.childNodes.length,_(e,a,i),a}function u(e,o,i,a,l){var u=o.tag,s=o.attrs,c=s&&s.is,f=(a=n(o)||a)?c?J.createElementNS(a,u,{is:c}):J.createElementNS(a,u):c?J.createElement(u,{is:c}):J.createElement(u);if(o.dom=f,null!=s&&z(o,s,a),_(e,f,l),null!=o.attrs&&null!=o.attrs.contenteditable)S(o);else if(null!=o.text&&(""!==o.text?f.textContent=o.text:o.children=[t("#",void 0,void 0,o.text,void 0,void 0)]),null!=o.children){var d=o.children;r(f,d,0,d.length,i,null,a),N(o)}return f}function s(e,n){var r;if("function"==typeof e.tag.view){if(e.state=Object.create(e.tag),null!=(r=e.state.view).$$reentrantLock$$)return U;r.$$reentrantLock$$=!0}else{if(e.state=void 0,null!=(r=e.tag).$$reentrantLock$$)return U;r.$$reentrantLock$$=!0,e.state=null!=e.tag.prototype&&"function"==typeof e.tag.prototype.view?new e.tag(e):e.tag(e)}if(e._state=e.state,null!=e.attrs&&D(e.attrs,e,n),D(e._state,e,n),e.instance=t.normalize(e._state.view.call(e.state,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");r.$$reentrantLock$$=null}function c(e,t,n,r,i){if(s(t,n),null!=t.instance){var a=o(e,t.instance,n,r,i);return t.dom=t.instance.dom,t.domSize=null!=t.dom?t.instance.domSize:0,_(e,a,i),a}return t.domSize=0,U}function f(e,t,n,i,a,l,u){if(t!==n&&(null!=t||null!=n))if(null==t)r(e,n,0,n.length,a,l,u);else if(null==n)k(t,0,t.length,n);else{if(t.length===n.length){for(var s=!1,c=0;c<n.length;c++)if(null!=n[c]&&null!=t[c]){s=null==n[c].key&&null==t[c].key;break}if(s){for(c=0;c<t.length;c++)t[c]!==n[c]&&(null==t[c]&&null!=n[c]?o(e,n[c],a,u,x(t,c+1,l)):null==n[c]?k(t,c,c+1,n):d(e,t[c],n[c],a,x(t,c+1,l),i,u));return}}if(i=i||y(t,n)){var f=t.pool;t=t.concat(t.pool)}for(var v,p=0,h=0,m=t.length-1,g=n.length-1;m>=p&&g>=h;)if((S=t[p])!==(C=n[h])||i)if(null==S)p++;else if(null==C)h++;else if(S.key===C.key){z=null!=f&&p>=t.length-f.length||null==f&&i;h++,d(e,S,C,a,x(t,++p,l),z,u),i&&S.tag===C.tag&&_(e,b(S),l)}else if((S=t[m])!==C||i)if(null==S)m--;else if(null==C)h++;else{if(S.key!==C.key)break;z=null!=f&&m>=t.length-f.length||null==f&&i;d(e,S,C,a,x(t,m+1,l),z,u),(i||h<g)&&_(e,b(S),x(t,p,l)),m--,h++}else m--,h++;else p++,h++;for(;m>=p&&g>=h;){var S=t[m],C=n[g];if(S!==C||i)if(null==S)m--;else if(null==C)g--;else if(S.key===C.key){z=null!=f&&m>=t.length-f.length||null==f&&i;d(e,S,C,a,x(t,m+1,l),z,u),i&&S.tag===C.tag&&_(e,b(S),l),null!=S.dom&&(l=S.dom),m--,g--}else{if(v||(v=w(t,m)),null!=C){var E=v[C.key];if(null!=E){var A=t[E],z=null!=f&&E>=t.length-f.length||null==f&&i;d(e,A,C,a,x(t,m+1,l),i,u),_(e,b(A),l),t[E].skip=!0,null!=A.dom&&(l=A.dom)}else l=o(e,C,a,u,l)}g--}else m--,g--;if(g<h)break}r(e,n,h,g+1,a,l,u),k(t,p,m+1,n)}}function d(e,t,n,r,i,a,l){var u=t.tag;if(u===n.tag){if(n.state=t.state,n._state=t._state,n.events=t.events,!a&&q(n,t))return;if("string"==typeof u)switch(null!=n.attrs&&(a?(n.state={},D(n.attrs,n,r)):H(n.attrs,n,r)),u){case"#":v(t,n);break;case"<":p(e,t,n,i);break;case"[":h(e,t,n,a,r,i,l);break;default:m(t,n,a,r,l)}else g(e,t,n,r,i,a,l)}else C(t,null),o(e,n,r,l,i)}function v(e,t){e.children.toString()!==t.children.toString()&&(e.dom.nodeValue=t.children),t.dom=e.dom}function p(e,t,n,r){t.children!==n.children?(b(t),a(e,n,r)):(n.dom=t.dom,n.domSize=t.domSize)}function h(e,t,n,r,o,i,a){f(e,t.children,n.children,r,o,i,a);var l=0,u=n.children;if(n.dom=null,null!=u){for(var s=0;s<u.length;s++){var c=u[s];null!=c&&null!=c.dom&&(null==n.dom&&(n.dom=c.dom),l+=c.domSize||1)}1!==l&&(n.domSize=l)}}function m(e,r,o,i,a){var l=r.dom=e.dom;a=n(r)||a,"textarea"===r.tag&&(null==r.attrs&&(r.attrs={}),null!=r.text&&(r.attrs.value=r.text,r.text=void 0)),O(r,e.attrs,r.attrs,a),null!=r.attrs&&null!=r.attrs.contenteditable?S(r):null!=e.text&&null!=r.text&&""!==r.text?e.text.toString()!==r.text.toString()&&(e.dom.firstChild.nodeValue=r.text):(null!=e.text&&(e.children=[t("#",void 0,void 0,e.text,void 0,e.dom.firstChild)]),null!=r.text&&(r.children=[t("#",void 0,void 0,r.text,void 0,void 0)]),f(l,e.children,r.children,o,i,null,a))}function g(e,n,r,i,a,l,u){if(l)s(r,i);else{if(r.instance=t.normalize(r._state.view.call(r.state,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");null!=r.attrs&&H(r.attrs,r,i),H(r._state,r,i)}null!=r.instance?(null==n.instance?o(e,r.instance,i,u,a):d(e,n.instance,r.instance,i,a,l,u),r.dom=r.instance.dom,r.domSize=r.instance.domSize):null!=n.instance?(C(n.instance,null),r.dom=void 0,r.domSize=0):(r.dom=n.dom,r.domSize=n.domSize)}function y(e,t){if(null!=e.pool&&Math.abs(e.pool.length-t.length)<=Math.abs(e.length-t.length)){var n=e[0]&&e[0].children&&e[0].children.length||0,r=e.pool[0]&&e.pool[0].children&&e.pool[0].children.length||0,o=t[0]&&t[0].children&&t[0].children.length||0;if(Math.abs(r-o)<=Math.abs(n-o))return!0}return!1}function w(e,t){for(var n={},r=0,r=0;r<t;r++){var o=e[r];if(null!=o){var i=o.key;null!=i&&(n[i]=r)}}return n}function b(e){var t=e.domSize;if(null!=t||null==e.dom){var n=J.createDocumentFragment();if(t>0){for(var r=e.dom;--t;)n.appendChild(r.nextSibling);n.insertBefore(r,n.firstChild)}return n}return e.dom}function x(e,t,n){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return n}function _(e,t,n){n&&n.parentNode?e.insertBefore(t,n):e.appendChild(t)}function S(e){var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag){var n=t[0].children;e.dom.innerHTML!==n&&(e.dom.innerHTML=n)}else if(null!=e.text||null!=t&&0!==t.length)throw new Error("Child node of a contenteditable must be trusted")}function k(e,t,n,r){for(var o=t;o<n;o++){var i=e[o];null!=i&&(i.skip?i.skip=!1:C(i,r))}}function C(e,t){function n(){if(++o===r&&(A(e),e.dom)){var n=e.domSize||1;if(n>1)for(var i=e.dom;--n;)E(i.nextSibling);E(e.dom),null==t||null!=e.domSize||M(e.attrs)||"string"!=typeof e.tag||(t.pool?t.pool.push(e):t.pool=[e])}}var r=1,o=0;if(e.attrs&&"function"==typeof e.attrs.onbeforeremove&&null!=(i=e.attrs.onbeforeremove.call(e.state,e))&&"function"==typeof i.then&&(r++,i.then(n,n)),"string"!=typeof e.tag&&"function"==typeof e._state.onbeforeremove){var i=e._state.onbeforeremove.call(e.state,e);null!=i&&"function"==typeof i.then&&(r++,i.then(n,n))}n()}function E(e){var t=e.parentNode;null!=t&&t.removeChild(e)}function A(e){if(e.attrs&&"function"==typeof e.attrs.onremove&&e.attrs.onremove.call(e.state,e),"string"!=typeof e.tag)"function"==typeof e._state.onremove&&e._state.onremove.call(e.state,e),null!=e.instance&&A(e.instance);else{var t=e.children;if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];null!=r&&A(r)}}}function z(e,t,n){for(var r in t)$(e,r,null,t[r],n)}function $(e,t,n,r,o){var i=e.dom;if("key"!==t&&"is"!==t&&(n!==r||T(e,t)||"object"==typeof r)&&void 0!==r&&!j(t)){var a=t.indexOf(":");if(a>-1&&"xlink"===t.substr(0,a))i.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(a+1),r);else if("o"===t[0]&&"n"===t[1]&&"function"==typeof r)L(e,t,r);else if("style"===t)R(i,n,r);else if(t in i&&!I(t)&&void 0===o&&!P(e)){if("value"===t){var l=""+r;if(("input"===e.tag||"textarea"===e.tag)&&e.dom.value===l&&e.dom===J.activeElement)return;if("select"===e.tag)if(null===r){if(-1===e.dom.selectedIndex&&e.dom===J.activeElement)return}else if(null!==n&&e.dom.value===l&&e.dom===J.activeElement)return;if("option"===e.tag&&null!=n&&e.dom.value===l)return}if("input"===e.tag&&"type"===t)return void i.setAttribute(t,r);i[t]=r}else"boolean"==typeof r?r?i.setAttribute(t,""):i.removeAttribute(t):i.setAttribute("className"===t?"class":t,r)}}function N(e){var t=e.attrs;"select"===e.tag&&null!=t&&("value"in t&&$(e,"value",null,t.value,void 0),"selectedIndex"in t&&$(e,"selectedIndex",null,t.selectedIndex,void 0))}function O(e,t,n,r){if(null!=n)for(var o in n)$(e,o,t&&t[o],n[o],r);if(null!=t)for(var o in t)null!=n&&o in n||("className"===o&&(o="class"),"o"!==o[0]||"n"!==o[1]||j(o)?"key"!==o&&e.dom.removeAttribute(o):L(e,o,void 0))}function T(e,t){return"value"===t||"checked"===t||"selectedIndex"===t||"selected"===t&&e.dom===J.activeElement}function j(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function I(e){return"href"===e||"list"===e||"form"===e||"width"===e||"height"===e}function P(e){return e.attrs.is||e.tag.indexOf("-")>-1}function M(e){return null!=e&&(e.oncreate||e.onupdate||e.onbeforeremove||e.onremove)}function R(e,t,n){if(t===n&&(e.style.cssText="",t=null),null==n)e.style.cssText="";else if("string"==typeof n)e.style.cssText=n;else{"string"==typeof t&&(e.style.cssText="");for(var r in n)e.style[r]=n[r];if(null!=t&&"string"!=typeof t)for(var r in t)r in n||(e.style[r]="")}}function L(e,t,n){var r=e.dom,o="function"!=typeof F?n:function(e){var t=n.call(r,e);return F.call(r,e),t};if(t in r)r[t]="function"==typeof n?o:null;else{var i=t.slice(2);if(void 0===e.events&&(e.events={}),e.events[t]===o)return;null!=e.events[t]&&r.removeEventListener(i,e.events[t],!1),"function"==typeof n&&(e.events[t]=o,r.addEventListener(i,e.events[t],!1))}}function D(e,t,n){"function"==typeof e.oninit&&e.oninit.call(t.state,t),"function"==typeof e.oncreate&&n.push(e.oncreate.bind(t.state,t))}function H(e,t,n){"function"==typeof e.onupdate&&n.push(e.onupdate.bind(t.state,t))}function q(e,t){var n,r;return null!=e.attrs&&"function"==typeof e.attrs.onbeforeupdate&&(n=e.attrs.onbeforeupdate.call(e.state,e,t)),"string"!=typeof e.tag&&"function"==typeof e._state.onbeforeupdate&&(r=e._state.onbeforeupdate.call(e.state,e,t)),!(void 0===n&&void 0===r||n||r)&&(e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,!0)}var F,J=e.document,U=J.createDocumentFragment(),B={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};return{render:function(e,n){if(!e)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var r=[],o=J.activeElement,i=e.namespaceURI;null==e.vnodes&&(e.textContent=""),Array.isArray(n)||(n=[n]),f(e,e.vnodes,t.normalizeChildren(n),!1,r,null,"http://www.w3.org/1999/xhtml"===i?void 0:i),e.vnodes=n,null!=o&&J.activeElement!==o&&o.focus();for(var a=0;a<r.length;a++)r[a]()},setEventCallback:function(e){return F=e}}},g=function(e){function t(e){var t=o.indexOf(e);t>-1&&o.splice(t,2)}function n(){for(var e=1;e<o.length;e+=2)o[e]()}var r=m(e);r.setEventCallback(function(e){!1===e.redraw?e.redraw=void 0:n()});var o=[];return{subscribe:function(e,n){t(e),o.push(e,l(n))},unsubscribe:t,redraw:n,render:r.render}}(window);h.setCompletionCallback(g.redraw);f.mount=function(e){return function(n,r){if(null===r)return e.render(n,[]),void e.unsubscribe(n);if(null==r.view&&"function"!=typeof r)throw new Error("m.mount(element, component) expects a component, not a vnode");e.subscribe(n,function(){e.render(n,t(r))}),e.redraw()}}(g);var y=d,w=function(e){if(""===e||null==e)return{};"?"===e.charAt(0)&&(e=e.slice(1));for(var t=e.split("&"),n={},r={},o=0;o<t.length;o++){var i=t[o].split("="),a=decodeURIComponent(i[0]),l=2===i.length?decodeURIComponent(i[1]):"";"true"===l?l=!0:"false"===l&&(l=!1);var u=a.split(/\]\[?|\[/),s=n;a.indexOf("[")>-1&&u.pop();for(var c=0;c<u.length;c++){var f=u[c],d=u[c+1],v=""==d||!isNaN(parseInt(d,10)),p=c===u.length-1;""===f&&(null==r[a=u.slice(0,c).join()]&&(r[a]=0),f=r[a]++),null==s[f]&&(s[f]=p?l:v?[]:{}),s=s[f]}}return n},b=function(e){function t(t){var n=e.location[t].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return"pathname"===t&&"/"!==n[0]&&(n="/"+n),n}function n(e){return function(){null==o&&(o=a(function(){o=null,e()}))}}function r(e,t,n){var r=e.indexOf("?"),o=e.indexOf("#"),i=r>-1?r:o>-1?o:e.length;if(r>-1){var a=o>-1?o:e.length,l=w(e.slice(r+1,a));for(var u in l)t[u]=l[u]}if(o>-1){var s=w(e.slice(o+1));for(var u in s)n[u]=s[u]}return e.slice(0,i)}var o,i="function"==typeof e.history.pushState,a="function"==typeof setImmediate?setImmediate:setTimeout,l={prefix:"#!"};return l.getPath=function(){switch(l.prefix.charAt(0)){case"#":return t("hash").slice(l.prefix.length);case"?":return t("search").slice(l.prefix.length)+t("hash");default:return t("pathname").slice(l.prefix.length)+t("search")+t("hash")}},l.setPath=function(t,n,o){var a={},u={};if(t=r(t,a,u),null!=n){for(var s in n)a[s]=n[s];t=t.replace(/:([^\/]+)/g,function(e,t){return delete a[t],n[t]})}var c=v(a);c&&(t+="?"+c);var f=v(u);if(f&&(t+="#"+f),i){var d=o?o.state:null,p=o?o.title:null;e.onpopstate(),o&&o.replace?e.history.replaceState(d,p,l.prefix+t):e.history.pushState(d,p,l.prefix+t)}else e.location.href=l.prefix+t},l.defineRoutes=function(t,o,a){function u(){var n=l.getPath(),i={},u=r(n,i,i),s=e.history.state;if(null!=s)for(var c in s)i[c]=s[c];for(var f in t){var d=new RegExp("^"+f.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(d.test(u))return void u.replace(d,function(){for(var e=f.match(/:[^\/]+/g)||[],r=[].slice.call(arguments,1,-2),a=0;a<e.length;a++)i[e[a].replace(/:|\./g,"")]=decodeURIComponent(r[a]);o(t[f],i,n,f)})}a(n,i)}i?e.onpopstate=n(u):"#"===l.prefix.charAt(0)&&(e.onhashchange=u),u()},l};f.route=function(e,n){var r,o,i,a,l,u=b(e),s=function(e){return e},c=function(e,c,f){if(null==e)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var d=function(){null!=r&&n.render(e,r(t(o,i.key,i)))},v=function(e){if(e===c)throw new Error("Could not resolve default route "+c);u.setPath(c,null,{replace:!0})};u.defineRoutes(f,function(e,t,n){var u=l=function(e,c){u===l&&(o=null==c||"function"!=typeof c.view&&"function"!=typeof c?"div":c,i=t,a=n,l=null,r=(e.render||s).bind(e),d())};e.view||"function"==typeof e?u({},e):e.onmatch?y.resolve(e.onmatch(t,n)).then(function(t){u(e,t)},v):u(e,"div")},v),n.subscribe(e,d)};return c.set=function(e,t,n){null!=l&&((n=n||{}).replace=!0),l=null,u.setPath(e,t,n)},c.get=function(){return a},c.prefix=function(e){u.prefix=e},c.link=function(e){e.dom.setAttribute("href",u.prefix+e.attrs.href),e.dom.onclick=function(e){if(!(e.ctrlKey||e.metaKey||e.shiftKey||2===e.which)){e.preventDefault(),e.redraw=!1;var t=this.getAttribute("href");0===t.indexOf(u.prefix)&&(t=t.slice(u.prefix.length)),c.set(t,void 0,void 0)}}},c.param=function(e){return void 0!==i&&void 0!==e?i[e]:i},c}(window,g),f.withAttr=function(e,t,n){return function(r){t.call(n||this,e in r.currentTarget?r.currentTarget[e]:r.currentTarget.getAttribute(e))}};var x=m(window);f.render=x.render,f.redraw=g.redraw,f.request=h.request,f.jsonp=h.jsonp,f.parseQueryString=w,f.buildQueryString=v,f.version="1.1.6",f.vnode=t,e.exports=f}()}),i=e(function(e){!function(){function t(){function e(){return arguments.length>0&&arguments[0]!==b&&r(e,arguments[0]),e._state.value}return n(e),arguments.length>0&&arguments[0]!==b&&r(e,arguments[0]),e}function n(e){e.constructor=t,e._state={id:w++,value:void 0,state:0,derive:void 0,recover:void 0,deps:{},parents:[],endStream:void 0,unregister:void 0},e.map=e["fantasy-land/map"]=f,e["fantasy-land/ap"]=d,e["fantasy-land/of"]=t,e.valueOf=v,e.toJSON=p,e.toString=v,Object.defineProperties(e,{end:{get:function(){if(!e._state.endStream){var n=t();n.map(function(t){return!0===t&&(c(e),n._state.unregister=function(){c(n)}),t}),e._state.endStream=n}return e._state.endStream}}})}function r(e,t){o(e,t);for(var n in e._state.deps)i(e._state.deps[n],!1);null!=e._state.unregister&&e._state.unregister(),a(e)}function o(e,t){e._state.value=t,e._state.changed=!0,2!==e._state.state&&(e._state.state=1)}function i(e,t){var n=e._state.parents;if(n.length>0&&n.every(m)&&(t||n.some(g))){var r=e._state.derive();if(r===b)return!1;o(e,r)}}function a(e){e._state.changed=!1;for(var t in e._state.deps)e._state.deps[t]._state.changed=!1}function l(e,n){if(!n.every(h))throw new Error("Ensure that each item passed to stream.combine/stream.merge is a stream");return u(t(),n,function(){return e.apply(this,n.concat([n.filter(g)]))})}function u(e,t,n){var r=e._state;return r.derive=n,r.parents=t.filter(y),s(e,r.parents),i(e,!0),e}function s(e,t){for(var n=0;n<t.length;n++)t[n]._state.deps[e._state.id]=e,s(e,t[n]._state.parents)}function c(e){for(var t=0;t<e._state.parents.length;t++)delete e._state.parents[t]._state.deps[e._state.id];for(var n in e._state.deps){var r=e._state.deps[n],o=r._state.parents.indexOf(e);o>-1&&r._state.parents.splice(o,1)}e._state.state=2,e._state.deps={}}function f(e){return l(function(t){return e(t())},[this])}function d(e){return l(function(e,t){return e()(t())},[e,this])}function v(){return this._state.value}function p(){return null!=this._state.value&&"function"==typeof this._state.value.toJSON?this._state.value.toJSON():this._state.value}function h(e){return e._state}function m(e){return 1===e._state.state}function g(e){return e._state.changed}function y(e){return 2!==e._state.state}var w=0,b={};t["fantasy-land/of"]=t,t.merge=function(e){return l(function(){return e.map(function(e){return e()})},e)},t.combine=l,t.scan=function(e,t,n){var r=l(function(n){return t=e(t,n._state.value)},[n]);return 0===r._state.state&&r(t),r},t.scanMerge=function(e,t){var n=e.map(function(e){var t=e[0];return 0===t._state.state&&t(void 0),t});return l(function(){var r=arguments[arguments.length-1];return n.forEach(function(n,o){r.indexOf(n)>-1&&(t=e[o][1](t,n._state.value))}),t},n)},t.HALT=b,e.exports=t}()});!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".minno-console{position:fixed;left:0;top:0;height:100%;width:30%;min-width:300px;background:#fff;opacity:.8}.minno-console-logs{height:calc(100% - 34px);overflow-y:scroll}.minno-console.minno-console-hide{width:-moz-min-content;width:-webkit-min-content;min-width:auto;height:auto}.minno-console:hover{opacity:.95}");var a=document.createElement("div");document.body.appendChild(a);var l={error:1,warn:2,info:3,debug:4,log:5},u={error:"panel-danger",warn:"panel-warning",info:"panel-info",debug:"panel-success",log:"panel-success"};localStorage.getItem("minno-console-level")||(localStorage.setItem("minno-console-level",1),localStorage.setItem("minno-console-show",!0));var s={oninit:function(e){function t(e){return function(t){localStorage.setItem(e,t)}}var n=e.state,r=i(),a=n.unseen=[];n.$show=i("true"===localStorage.getItem("minno-console-show")),n.$level=i(localStorage.getItem("minno-console-level")),n.$show.map(t("minno-console-show")),n.$level.map(t("minno-console-level")),n.$logs=i.scan(function(e,t){return e.push(t),e},[],r),n.$unseenLogs=i.combine(function(e,t,n){return n.indexOf(t)>-1&&a.push(t()),e()&&(a.length=0),a},[n.$show,r]),window.addEventListener("message",function(e){r(e.data),o.redraw()},!1)},view:function(e){function t(e){return i>=(l[e.type]||5)}var n=e.state,r=n.$show(),i=n.$level(),a=n.unseen.filter(t).length;return o(".minno-console",{class:r?"":"minno-console-hide"},[o(".input-group",[o("span.input-group-addon",["Console",!!a&&o("span.label.label-warning",{style:"margin-left:5px;"},a)]),n.$show()&&o("select.form-control",{title:"Select log level",onchange:o.withAttr("value",n.$level),value:n.level},[o("option",{value:1,selected:1==i},"Error"),o("option",{value:9,selected:9==i},"All")]),o("span.input-group-btn",[o("button.btn.btn-default",{title:r?"Hide console":"Show console",onclick:function(){n.$show(!r)}},o("strong",r?"<<":">>"))])]),r&&o(f,{className:".minno-console-logs"},n.$logs().filter(t).map(function(e){return o(c,e)}))])}},c={hide:!1,open:!1,view:function(e){var r=e.attrs,i=e.state;return!i.hide&&o(".panel",{class:u[r.type]},[o(".panel-heading",[o("strong",r.message),r.error?" "+r.error.message:"",o("button",{class:"close",style:"margin-left:5px;",onclick:t(i,"hide")},o.trust("&times;")),(r.context||r.rows)&&o("button",{class:"close",onclick:t(i,"open")},o.trust(i.open?"&minus;":"&plus;"))]),i.open&&[r.context&&o(".panel-body",[o("strong","Context:"),o("pre",n(r.context))]),r.rows&&o("list-group",r.rows.map(function(e){return[].concat(e)}).map(function(e){return o(".list-group-item",e.map(n).map(function(e){return o("span",{style:"margin-right:7px;"},e)}))}))]])}},f={oncreate:function(e){var t=e.dom;t.scrollTop=t.scrollHeight},onbeforeupdate:function(e,t){var n=t.dom;e.state.isScrolledDown=n.scrollTop+n.clientHeight===n.scrollHeight},onupdate:function(e){var t=e.dom;e.state.isScrolledDown&&(t.scrollTop=t.scrollHeight)},view:function(e){return o(e.attrs.className||"div",e.children)}};o.mount(a,s)}();
//# sourceMappingURL=minno-debug.js.map
