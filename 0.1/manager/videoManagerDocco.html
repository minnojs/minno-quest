<!DOCTYPE html>
<html lang="en">
	<head>

		<!-- Meta, title, CSS, favicons, etc. -->
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Bootstrap, a sleek, intuitive, and powerful mobile first front-end framework for faster and easier web development.">
		<meta name="keywords" content="HTML, CSS, JS, JavaScript, framework, bootstrap, front-end, frontend, web development">
		<meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">

		<title>
			
				piManager
			
			&middot; V0.0
		</title>

		
		<!-- Bootstrap core CSS -->
		<link href="../../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
		<link href="../css/highlight.css" rel="stylesheet">
		<link href="../css/style.css" rel="stylesheet">
		<style type="text/css">
			pre {display:block;overflow-x:auto;padding:0.5em;background:#000;color:#f8f8f8;-webkit-text-size-adjust:none}
			table {padding: 0;}
			table tr {border-top: 1px solid #cccccc;background-color: white;margin: 0;padding: 0;}
			table tr:nth-child(2n) {background-color: #f8f8f8;}
			table tr th {font-weight: bold;border: 1px solid #cccccc;text-align: left;margin: 0;padding: 6px 13px;}
			table tr td {border: 1px solid #cccccc;text-align: left;margin: 0;padding: 6px 13px;}
			table tr th :first-child, table tr td :first-child {margin-top: 0;}
			table tr th :last-child, table tr td :last-child {margin-bottom: 0;}
		</style>
		

		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

		<!-- Favicons -->
		<link rel="apple-touch-icon" href="../apple-touch-icon.png">
		<link rel="icon" href="../favicon.ico">

	</head>

	<body>
		<a id="skippy" class="sr-only sr-only-focusable" href="#content"><div class="container"><span class="skiplink-text">Skip to main content</span></div></a>

		<!-- Docs master nav -->
		<header class="navbar navbar-static-top bs-docs-nav" id="top" role="banner">
			<div class="container">
				<div class="navbar-header">
					<button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a href="../../" class="navbar-brand">Minno</a>
				</div>
				<nav class="collapse navbar-collapse bs-navbar-collapse">
					<ul class="nav navbar-nav">
						<li class="">
							<a href="../basics/overview.html">Basics</a>
						</li>
						<li class="">
							<a href="../quest/overview.html">piQuest</a>
						</li>
						<li class=" active ">
							<a href="../manager/overview.html">piManager</a>
						</li>
						<li>
							<a href="/PIPlayer">piPlayer</a>
						</li>
					</ul>
					<ul class="nav navbar-nav navbar-right">
						<li>
							<form class="navbar-form navbar-left" role="search" method="get" action="http://www.google.com/search">
							  <div class="form-group">
							    <input type="text" class="form-control" placeholder="Search" name="q" size="25" maxlength="255">
							  </div>
							  <button type="submit" class="btn btn-default" value="Google Search">
							    <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
							  </button>
							  <input type="hidden" name="sitesearch" value="projectimplicit.github.io" checked />
							</form>
						</li>

						<li>
                            <form class="navbar-form navbar-left" role="search">
                                <div class="form-group">
                                    <select class="form-control" id="version-select">
                                        <option value="0.0">v0.0</option>
                                        <option value="0.1" selected>v0.1</option>
                                    </select>
                                </div>
                            </form>
                        </li>

                        <li><a href="https://github.com/ProjectImplicit/PIquest">Github</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <div id="content" class="bs-docs-header">
            <div class="container">
                
	<h1>Video manager</h1>

	<p>Documentation for videoManager.js </p>

            </div>
		</div>

		<div class="container bs-docs-container">
			<div class="row">
				<div class="col-md-9" role="main">
					
	
		<p>The Video manager is a basic example of how to display videos.
It is heavily commented so that you can follow everything that goes on.
After reading the documentation feel free to download the file and modify it according to your needs.</p>
<h3 id="opening-section">Opening section</h3>
<p>The opening section of each script is always more or less the same.
We create the wrapper for the script (<code>define</code>), and create a new instance of a manager.</p>


		
		  <div class='highlight'><pre>define([<span class="hljs-string">'managerAPI'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">Manager</span>)</span>{

  <span class="hljs-keyword">var</span> API = <span class="hljs-keyword">new</span> Manager();</pre></div>
		
	
		<h3 id="the-sequence">The sequence</h3>
<p>The most important part of every manager script is the sequence.
This is where you tell it how to interact with the participants.</p>


		
		  <div class='highlight'><pre>  API.addSequence([</pre></div>
		
	
		<h4 id="show-video">Show Video</h4>
<p>This message simply displays a video
You can use <a href="http://v4e.thewikies.com/">this site</a> to create appropriate templates
Note that the video url is set within the data attributes</p>


		
		  <div class='highlight'><pre>    {
      type: <span class="hljs-string">'message'</span>,

      data: {</pre></div>
		
	
		<p>The video url (as mp4!)</p>


		
		  <div class='highlight'><pre>        videoUrl: <span class="hljs-string">'http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4'</span>,</pre></div>
		
	
		<p>An image to use as a poster until the video plays</p>


		
		  <div class='highlight'><pre>        imageUrl: <span class="hljs-string">'http://sandbox.thewikies.com/vfe-generator/images/big-buck-bunny_poster.jpg'</span>
      },</pre></div>
		
	
		<p>We create the video template itself</p>


		
		  <div class='highlight'><pre>      template: [
        <span class="hljs-string">'&lt;div class="text-center"&gt;'</span>,
        <span class="hljs-string">' &lt;video controls="controls" autoplay="autoplay" poster="&lt;%= tasksData.imageUrl %&gt;" width="640" height="360" style="margin:auto"&gt;'</span>,
        <span class="hljs-string">'   &lt;source src="&lt;%= tasksData.videoUrl %&gt;" type="video/mp4"/&gt;'</span>,
        <span class="hljs-string">'   &lt;object type="application/x-shockwave-flash" data="http://flashfox.googlecode.com/svn/trunk/flashfox.swf" width="640" height="360"&gt;'</span>,
        <span class="hljs-string">'     &lt;param name="movie" value="http://flashfox.googlecode.com/svn/trunk/flashfox.swf" /&gt;'</span>,
        <span class="hljs-string">'     &lt;param name="allowFullScreen" value="true" /&gt;'</span>,
        <span class="hljs-string">'     &lt;param name="wmode" value="transparent" /&gt;'</span>,
        <span class="hljs-string">'     &lt;param name="flashVars" value="autoplay=true&amp;controls=true&amp;poster=&lt;%= tasksData.imageUrl %&gt;&amp;src=&lt;%= tasksData.videoUrl %&gt;" /&gt;'</span>,
        <span class="hljs-string">'   &lt;/object&gt;'</span>,
        <span class="hljs-string">' &lt;/video&gt;'</span>,
        <span class="hljs-string">'&lt;/div&gt;'</span>,
        <span class="hljs-string">'&lt;div class="text-center proceed" style="margin: 30px auto 10px;"&gt;'</span>,
        <span class="hljs-string">' &lt;button pi-message-done type="button" class="btn btn-primary"&gt;Click Here to Proceed&lt;/button&gt;'</span>,
        <span class="hljs-string">'&lt;/div&gt;'</span>
      ].join(<span class="hljs-string">'\n'</span>)
    },</pre></div>
		
	
		<h3 id="show-video-and-defer-proceed">Show video and defer proceed</h3>
<p>This message is identical to the previous one,
only now we use a trick to defer the presentation of the proceed button until the video completes</p>


		
		  <div class='highlight'><pre>    {
      type: <span class="hljs-string">'message'</span>,

      data: {</pre></div>
		
	
		<p>The video url (as mp4!)</p>


		
		  <div class='highlight'><pre>        videoUrl: <span class="hljs-string">'http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4'</span>,</pre></div>
		
	
		<p>An image to use as a poster until the video plays</p>


		
		  <div class='highlight'><pre>        imageUrl: <span class="hljs-string">'http://sandbox.thewikies.com/vfe-generator/images/big-buck-bunny_poster.jpg'</span>
      },</pre></div>
		
	
		<p>We create the video template itself</p>


		
		  <div class='highlight'><pre>      template: [
        <span class="hljs-string">'&lt;div class="text-center"&gt;'</span>,
        <span class="hljs-string">' &lt;video controls="controls" autoplay="autoplay" poster="&lt;%= tasksData.imageUrl %&gt;" width="640" height="360" style="margin:auto"&gt;'</span>,
        <span class="hljs-string">'   &lt;source src="&lt;%= tasksData.videoUrl %&gt;" type="video/mp4"/&gt;'</span>,
        <span class="hljs-string">'   &lt;object type="application/x-shockwave-flash" data="http://flashfox.googlecode.com/svn/trunk/flashfox.swf" width="640" height="360"&gt;'</span>,
        <span class="hljs-string">'     &lt;param name="movie" value="http://flashfox.googlecode.com/svn/trunk/flashfox.swf" /&gt;'</span>,
        <span class="hljs-string">'     &lt;param name="allowFullScreen" value="true" /&gt;'</span>,
        <span class="hljs-string">'     &lt;param name="wmode" value="transparent" /&gt;'</span>,
        <span class="hljs-string">'     &lt;param name="flashVars" value="autoplay=true&amp;controls=true&amp;poster=&lt;%= tasksData.imageUrl %&gt;&amp;src=&lt;%= tasksData.videoUrl %&gt;" /&gt;'</span>,
        <span class="hljs-string">'   &lt;/object&gt;'</span>,
        <span class="hljs-string">' &lt;/video&gt;'</span>,
        <span class="hljs-string">'&lt;/div&gt;'</span>,
        <span class="hljs-string">'&lt;div class="text-center proceed" style="margin: 30px auto 10px;"&gt;'</span>,
        <span class="hljs-string">' &lt;button pi-message-done type="button" class="btn btn-primary"&gt;Click Here to Proceed&lt;/button&gt;'</span>,
        <span class="hljs-string">'&lt;/div&gt;'</span>
      ].join(<span class="hljs-string">'\n'</span>),</pre></div>
		
	
		<p>This is where the magic happens. as soon as the page is loaded
We hide The proceed button, and show it only after 60 seconds when the video is supposed to end.
(Note that in certain situations the button may be displayed before the video finishes playing. This is because the timing is absolute and not dependant on the video actually finishing)</p>


		
		  <div class='highlight'><pre>      load: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
        <span class="hljs-keyword">var</span> proceed = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.proceed'</span>)[<span class="hljs-number">0</span>];
        proceed.style.visibility = <span class="hljs-string">'hidden'</span>;
        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
          proceed.style.visibility = <span class="hljs-string">''</span>;
        }, <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>); <span class="hljs-comment">// after 10 seconds</span>
      }

    }</pre></div>
		
	
		<p>Now, we just close the sequence.</p>


		
		  <div class='highlight'><pre>  ]);</pre></div>
		
	
		<h3 id="closing-section">Closing section</h3>
<p>And finally, we close the script.
Here again, all scripts look more or less the same.
We return the <code>script</code> and close the <code>define</code> wrapper.</p>


		
		  <div class='highlight'><pre>  <span class="hljs-keyword">return</span> API.script;
});</pre></div>
		
	

				</div>

				<div class="col-md-3" role="complementary">
					<nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm">

						

						

						

						<ul class="nav bs-docs-sidenav">
						

							
							<li class="">
							<li class="">

								<a href="overview.html">Overview</a>
							</li>
						
							
							<li class="">
							<li class="">

								<a href="messages.html">Messages</a>
							</li>
						
							
							<li class="">
							<li class="">

								<a href="post.html">Post</a>
							</li>
						
							
							<li class="">
							<li class="">

								<a href="redirect.html">Redirect</a>
							</li>
						
							<li>
								<a href="javascript:void(0)">Examples</a>
								<ul class="nav">
									
							<li class="">
								<div>
									<a href="weightManagerDocco.html">Weight experiment</a>
									<a href="weightManager.js" download="weightManager.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="weightManagerPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
									
							<li class=" active ">
								<div>
									<a href="videoManagerDocco.html">Displaying Video</a>
									<a href="videoManager.js" download="videoManager.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="videoManagerPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
								</ul>
							</li>
							
							<li class="">
							<li class="">

								<a href="../manager/API.html">API</a>
							</li>
						
							
							<li class="">
							<li class="">

								<a href="../manager/managerplayground.html">Playground</a>
							</li>
						
						
						</ul>
						<!-- <a class="back-to-top" href="#top">
							Back to top
						</a> -->
					</nav>
				</div>
			</div>
		</div>

		<!-- Footer
		================================================== -->
		<footer class="bs-docs-footer" role="contentinfo">
			<div class="container">
				<p>Created by Project Implicit for the benefit of all.</p>
				<!-- <p>Code licensed under <a href="https://github.com/twbs/bootstrap/blob/master/LICENSE" target="_blank">MIT</a>, documentation under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</p> -->
				<ul class="bs-docs-footer-links text-muted">
					<li>Currently v0.0.45</li>
					<li>&middot;</li>
					<li><a href="https://github.com/ProjectImplicit/PIquest">GitHub</a></li>
					<li>&middot;</li>
					<li><a href="https://github.com/ProjectImplicit/PIquest/releases">Releases</a></li>
				</ul>
			</div>
		</footer>

        <script>
            (function(){
                var select = document.getElementById('version-select');
                select.addEventListener('change', function(event){
                    var version = event.target.value;
                    location.href = location.href.replace(/[0-9]\.[0-9]/, version)
                });
            })();
        </script>
	</body>
</html>
