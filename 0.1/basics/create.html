<!DOCTYPE html>
<html lang="en">
	<head>

		<!-- Meta, title, CSS, favicons, etc. -->
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Bootstrap, a sleek, intuitive, and powerful mobile first front-end framework for faster and easier web development.">
		<meta name="keywords" content="HTML, CSS, JS, JavaScript, framework, bootstrap, front-end, frontend, web development">
		<meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">

		<title>
			
				Basics
			
			&middot; V0.0
		</title>

		
		<!-- Bootstrap core CSS -->
		<link href="../../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
		<link href="../css/highlight.css" rel="stylesheet">
		<link href="../css/style.css" rel="stylesheet">
		<style type="text/css">
			pre {display:block;overflow-x:auto;padding:0.5em;background:#000;color:#f8f8f8;-webkit-text-size-adjust:none}
			table {padding: 0;}
			table tr {border-top: 1px solid #cccccc;background-color: white;margin: 0;padding: 0;}
			table tr:nth-child(2n) {background-color: #f8f8f8;}
			table tr th {font-weight: bold;border: 1px solid #cccccc;text-align: left;margin: 0;padding: 6px 13px;}
			table tr td {border: 1px solid #cccccc;text-align: left;margin: 0;padding: 6px 13px;}
			table tr th :first-child, table tr td :first-child {margin-top: 0;}
			table tr th :last-child, table tr td :last-child {margin-bottom: 0;}
		</style>
		

		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

		<!-- Favicons -->
		<link rel="apple-touch-icon" href="../apple-touch-icon.png">
		<link rel="icon" href="../favicon.ico">

	</head>

	<body>
		<a id="skippy" class="sr-only sr-only-focusable" href="#content"><div class="container"><span class="skiplink-text">Skip to main content</span></div></a>

		<!-- Docs master nav -->
		<header class="navbar navbar-static-top bs-docs-nav" id="top" role="banner">
			<div class="container">
				<div class="navbar-header">
					<button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a href="../../" class="navbar-brand">Project Implicit</a>
				</div>
				<nav class="collapse navbar-collapse bs-navbar-collapse">
					<ul class="nav navbar-nav">
						<li class=" active ">
							<a href="../basics/overview.html">Basics</a>
						</li>
						<li class="">
							<a href="../quest/overview.html">piQuest</a>
						</li>
						<li class="">
							<a href="../manager/overview.html">piManager</a>
						</li>
						<li>
							<a href="/PIPlayer">piPlayer</a>
						</li>
					</ul>
					<ul class="nav navbar-nav navbar-right">
						<li>
							<form class="navbar-form navbar-left" role="search" method="get" action="http://www.google.com/search">
							  <div class="form-group">
							    <input type="text" class="form-control" placeholder="Search" name="q" size="25" maxlength="255">
							  </div>
							  <button type="submit" class="btn btn-default" value="Google Search">
							    <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
							  </button>
							  <input type="hidden" name="sitesearch" value="projectimplicit.github.io" checked />
							</form>
						</li>

						<li><a href="https://github.com/ProjectImplicit/PIquest">Github</a></li>
					</ul>
				</nav>
			</div>
		</header>

		<div id="content" class="bs-docs-header">
			<div class="container">
				
	<h1>Creating a task</h1>
	<p>All you need to know in order to create your own task.</p>

			</div>
		</div>

		<div class="container bs-docs-container">
			<div class="row">
				<div class="col-md-9" role="main">
					
	<p>This document will walk you through all you need to know in order to create a task. Anything appearing here is relevant to all types of tasks.</p>
<h3 id="the-wrapper">The Wrapper</h3>
<p>Each task consists of a single javascript file, which is a simple text file with a <code>js</code> extenssion. The file should be setup with some code at the begining and the end, this code is used by the player to register the task. </p>
<p>First, all your code should be wrapped by a define statement (if you want to understand more about how this work you can read up on <a href="http://requirejs.org/docs/whyamd.html">AMD modules</a>):</p>
<pre><code class="lang-js">define([<span class="hljs-string">'taskAPI'</span>],<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">taskAPI</span>)</span>{
    <span class="hljs-comment">// all sorts of code...</span>
});
</code></pre>
<p>Here <code>taskAPI</code> should be replaced with whatever type of task you are creating, be it <code>pipAPI</code>, <code>questAPI</code> or any other API available within the system.</p>
<p>The APIs for each of the tasks are constructors, so in order to use the API you always have to create a new API object first (API is an arbitrary name of course, you can call it however you like…):</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> API = <span class="hljs-keyword">new</span> taskAPI();
</code></pre>
<p>After creating the API, you can start putting your task together, we’ll see how to do that in a moment. But before getting to the creation of the task itself, we’ll note that at the very end of the task you need to return the <code>API.script</code>. This exports the task you have created and allows the the task to be registered. It looks something like this:</p>
<pre><code class="lang-js"><span class="hljs-keyword">return</span> API.script;
</code></pre>
<p>All taken into account this is the structure of any script you create:</p>
<pre><code class="lang-js">define([<span class="hljs-string">'taskAPI'</span>],<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">taskAPI</span>)</span>{
    <span class="hljs-keyword">var</span> API = <span class="hljs-keyword">new</span> taskAPI();
    <span class="hljs-comment">// Use the API to create your task here...</span>
    <span class="hljs-keyword">return</span> API.script;
});
</code></pre>
<h3 id="the-sequence">The sequence</h3>
<p>Tasks can be seen a series of frames. Each frame includes some type of interaction with the user. It may be a questionnaire page, a time sensitive trial or even a simple message - depends which type of task you are using. Each of the interaction frames is described by a single object (that may include sub objects that represent sub frames…). You can learn all about the properties that the objects use to describe their tasks in each of their individual API documentation sections.</p>
<p>In order to register an object with the task we need to add it to the <code>sequence</code>. The sequence is an array of objects that get activate sequentially when the task is activated.</p>
<p>We’ll use piQuest for this example, where each object represents a page with an array of questions:</p>
<pre><code class="lang-js">API.addSequence([
    <span class="hljs-comment">// page 1</span>
    {
        header: <span class="hljs-string">'header 1'</span>,
        questions: [{stem:<span class="hljs-string">'What is your first name?'</span>}]
    },
    <span class="hljs-comment">// page 2</span>
    {
        header: <span class="hljs-string">'header 2'</span>,
        questions: [{stem:<span class="hljs-string">'What is your last name?'</span>}]
    }
]);
</code></pre>
<p>This will tell piQuest to first activate page 1 and then activate page 2. The sequence works in a similar way for all of our tasks, just add in objects and they’ll be activated one after another.</p>
<p>Of course a simple sequential sequence is rarely what you’ll need. All sequences support some powerful tools for enriching the way your sequence works. These are described in detail in the <a href="sequencer.html">sequencer section</a>, here we’ll only touch on some basic randomization (using the mixer) and abstraction (using inheritance). </p>
<h3 id="basic-randomization">Basic Randomization</h3>
<p>All sequences support a special type of object called a mixer. A mixer holds several regular objects and control the way they are activated. A mixer can reorder the objects, chose among them and even skip them. To illustrate how a mixer works, let’s learn more about the mixer used for randomization.</p>
<p>The randomization mixer has the following structure:</p>
<pre><code class="lang-js">{
    mixer: <span class="hljs-string">'random'</span>,    <span class="hljs-comment">// declare this object as a randomization mixer</span>
    data: [obj1, obj2]  <span class="hljs-comment">// the objects to be randomized</span>
}
</code></pre>
<p>To randomize the order of the presentation of the pages from our previous example, we’d write something like this:</p>
<pre><code class="lang-js">API.addSequence([
    {
        mixer: <span class="hljs-string">'random'</span>,
        data: [
             <span class="hljs-comment">// page 1</span>
             {
                header: <span class="hljs-string">'header 1'</span>,
                questions: [{stem:<span class="hljs-string">'What is you\'r first name?'</span>}]
            },
            <span class="hljs-comment">// page 2</span>
            {
                header: <span class="hljs-string">'header 2'</span>,
                questions: [{stem:<span class="hljs-string">'What is you\'r last name?'</span>}]
            }
        ]
    }
]);
</code></pre>
<p>Instead of always presenting page 2 after page 1, the sequencer will now randomize their order. Page 2 will appear first half of the time. The full documentation for the mixer is <a href="sequencer.html#mixer">right here</a>.</p>
<h3 id="basic-abstraction">Basic abstraction</h3>
<p>Many times we want to create several objects with mostly similar properties. For instance we may want to create a set of questions that have the same response options, and only change the text used for each question. </p>
<p>In order to share properties among several objects, we use the concept of inheritance. Each object that we use can inherit some of its properties from an object we created previously. </p>
<p>Each API has a function that allows defining sets of objects that can later be inherited. There is a separate function for each type of object. Let’s define a question set with specific response options:</p>
<pre><code class="lang-js">API.addQuestionsSet(<span class="hljs-string">'likert'</span>, [
    {
        type: <span class="hljs-string">'selectOne'</span>,
        answers: [
            <span class="hljs-string">'Strongly disagree'</span>,
            <span class="hljs-string">'Disagree'</span>,
            <span class="hljs-string">'Neither agree nor disagree'</span>,
            <span class="hljs-string">'Agree'</span>,
            <span class="hljs-string">'Strongly agree'</span>
        ]
    }
]);
</code></pre>
<p>The first argument for the function is the name of the set we define, in this case <code>&#39;likert&#39;</code>. The second argument is an object with all the elements (properties) we want to define for this set.</p>
<p>Next, let’s see how we can use the pre-defined set from within the sequence. Each object has a special property <code>inherit</code> that indicates that the object inherits properties from a set. In our case setting <code>inherit</code> to <code>&#39;likert&#39;</code> indicate that the object inherits from the likert set, defined above. Inheritance means that that the child object inherits all the properties of the parent object.</p>
<pre><code class="lang-js">API.addSequence([
    <span class="hljs-comment">// page 1</span>
    {
        questions: [{stem:<span class="hljs-string">'I like cake.'</span>, inherit: <span class="hljs-string">'likert'</span>}]
    },
    <span class="hljs-comment">// page 2</span>
    {
        questions: [{stem:<span class="hljs-string">'I like chicken.'</span>, inherit: <span class="hljs-string">'likert'</span>}]
    }
]);
</code></pre>
<p>Each of the questions in this questionnaire inherits the likert set, and therefore has all the properties already defined into the likert object. This is useful because it saves time and space. In this example, you define the basic properties of all the questions you want to use in one place, and then you don’t need to repeat it. It is also very easy to modify the questionnaire. For instance, if you want to use a 7-point agreement scale, you only need to change it in the <code>&#39;likert&#39;</code> set, and it will apply to all the questions that inherit <code>&#39;likert&#39;</code>.</p>


				</div>

				<div class="col-md-3" role="complementary">
					<nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm">

						

						

						<ul class="nav bs-docs-sidenav">
						

							
							<li class="">
							<li class="">

								<a href="../basics/overview.html">Overview</a>
							</li>
						
							
							<li class="">
							<li class="">

								<a href="../basics/javascript.html">Javascript</a>
							</li>
						
							
							<li class="">
							<li class=" active ">

								<a href="../basics/create.html">Creating a task</a>
							</li>
						

							
							<li class="">
							<li class="">

								<a href="../basics/sequencer.html">Sequencer</a>
							</li>
						
							
							<li class="">
							<li class="">

								<a href="../basics/API.html">API</a>
							</li>
						
							
							<li class="">
							<li class="">

								<a href="../basics/resources.html">Resources</a>
							</li>
						

							<li>
								<a href="javascript:void(0)">Inheritance</a>
								<ul class="nav">
									
							<li class="">
								<div>
									<a href="../basics/inheritanceAbstractionDocco.html">Abstraction</a>
									<a href="../basics/inheritanceAbstraction.js" download="../basics/inheritanceAbstraction.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="../basics/inheritanceAbstractionPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
									
							<li class="">
								<div>
									<a href="../basics/inheritanceRandomDocco.html">Random</a>
									<a href="../basics/inheritanceRandom.js" download="../basics/inheritanceRandom.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="../basics/inheritanceRandomPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
									
							<li class="">
								<div>
									<a href="../basics/inheritanceExRandomDocco.html">Exclusive Random</a>
									<a href="../basics/inheritanceExRandom.js" download="../basics/inheritanceExRandom.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="../basics/inheritanceExRandomPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
									
							<li class="">
								<div>
									<a href="../basics/inheritanceSequentialDocco.html">Sequential</a>
									<a href="../basics/inheritanceSequential.js" download="../basics/inheritanceSequential.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="../basics/inheritanceSequentialPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
									
							<li class="">
								<div>
									<a href="../basics/inheritanceByDataDocco.html">By Data</a>
									<a href="../basics/inheritanceByData.js" download="../basics/inheritanceByData.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="../basics/inheritanceByDataPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
									
							<li class="">
								<div>
									<a href="../basics/inheritanceCustomDocco.html">Custom</a>
									<a href="../basics/inheritanceCustom.js" download="../basics/inheritanceCustom.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="../basics/inheritanceCustomPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						

									
							<li class="">
								<div>
									<a href="../basics/inheritanceSeedDocco.html">Seed</a>
									<a href="../basics/inheritanceSeed.js" download="../basics/inheritanceSeed.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="../basics/inheritanceSeedPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
									
							<li class="">
								<div>
									<a href="../basics/inheritanceRepeatDocco.html">Repeat</a>
									<a href="../basics/inheritanceRepeat.js" download="../basics/inheritanceRepeat.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="../basics/inheritanceRepeatPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
								</ul>
							</li>

							<li>
								<a href="javascript:void(0)">Mixers</a>
								<ul class="nav">
									
							<li class="">
								<div>
									<a href="../basics/mixerRandomDocco.html">Random</a>
									<a href="../basics/mixerRandom.js" download="../basics/mixerRandom.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="../basics/mixerRandomPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
									
							<li class="">
								<div>
									<a href="../basics/mixerRepeatDocco.html">Repeat</a>
									<a href="../basics/mixerRepeat.js" download="../basics/mixerRepeat.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="../basics/mixerRepeatPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
									
							<li class="">
								<div>
									<a href="../basics/mixerWeightedRandomDocco.html">Weighted Random</a>
									<a href="../basics/mixerWeightedRandom.js" download="../basics/mixerWeightedRandom.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="../basics/mixerWeightedRandomPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
									
							<li class="">
								<div>
									<a href="../basics/mixerChooseDocco.html">Choose</a>
									<a href="../basics/mixerChoose.js" download="../basics/mixerChoose.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="../basics/mixerChoosePlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
									
							<li class="">
								<div>
									<a href="../basics/mixerWrapperDocco.html">Wrapper</a>
									<a href="../basics/mixerWrapper.js" download="../basics/mixerWrapper.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="../basics/mixerWrapperPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
									
							<li class="">
								<div>
									<a href="../basics/mixerBranchDocco.html">Branch</a>
									<a href="../basics/mixerBranch.js" download="../basics/mixerBranch.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="../basics/mixerBranchPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
									
							<li class="">
								<div>
									<a href="../basics/mixerMultiBranchDocco.html">Multi Branch</a>
									<a href="../basics/mixerMultiBranch.js" download="../basics/mixerMultiBranch.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="../basics/mixerMultiBranchPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
								</ul>
							</li>

							<li>
								<a href="javascript:void(0)">Variables & Templates</a>
								<ul class="nav">
									
							<li class="">
								<div>
									<a href="../basics/templateGlobalDocco.html">Global</a>
									<a href="../basics/templateGlobal.js" download="../basics/templateGlobal.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="../basics/templateGlobalPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
									
							<li class="">
								<div>
									<a href="../basics/templateDataDocco.html">Data</a>
									<a href="../basics/templateData.js" download="../basics/templateData.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="../basics/templateDataPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
									
							<li class="">
								<div>
									<a href="../basics/templateMetaDocco.html">Meta</a>
									<a href="../basics/templateMeta.js" download="../basics/templateMeta.js" title="Download"><span class="glyphicon glyphicon-download"></span></a>
									<a href="../basics/templateMetaPlay.html" title="Play"><span class="glyphicon glyphicon-play-circle"></span></a>
								</div>
							</li>
						
								</ul>
							</li>

						
						</ul>
						<!-- <a class="back-to-top" href="#top">
							Back to top
						</a> -->
					</nav>
				</div>
			</div>
		</div>

		<!-- Footer
		================================================== -->
		<footer class="bs-docs-footer" role="contentinfo">
			<div class="container">
				<p>Created by Project Implicit for the benefit of all.</p>
				<!-- <p>Code licensed under <a href="https://github.com/twbs/bootstrap/blob/master/LICENSE" target="_blank">MIT</a>, documentation under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</p> -->
				<ul class="bs-docs-footer-links text-muted">
					<li>Currently v0.0.45</li>
					<li>&middot;</li>
					<li><a href="https://github.com/ProjectImplicit/PIquest">GitHub</a></li>
					<li>&middot;</li>
					<li><a href="https://github.com/ProjectImplicit/PIquest/releases">Releases</a></li>
				</ul>
			</div>
		</footer>

	</body>
</html>